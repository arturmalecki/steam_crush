Game.Preloader = {
  preload: function() {
    var loader = this.add.image(this.game.world.centerX - 78, 50, 'loader');
    this.load.setPreloadSprite(loader);

    this.load.spritesheet('elements', '<%= asset_path('sprite-elements.png') %>', 75, 75);

    this.load.spritesheet('explosion', '<%= asset_path('explosion.png') %>', 75, 75);
    this.load.image('background', '<%= asset_path('bg.png') %>');
    this.load.image('groupBg', '<%= asset_path('group_bg.jpg') %>');
    this.load.image('selectLevelBg', '<%= asset_path('select_level.png') %>');
    this.load.image('cityBg', '<%= asset_path('city.jpg') %>');
    this.load.image('factoryBg', '<%= asset_path('factory.jpg') %>');
    this.load.image('mineBg', '<%= asset_path('mine.jpg') %>');
    this.load.image('seaBg', '<%= asset_path('sea.jpg') %>');

    this.load.image('home', '<%= asset_path('home.png') %>');
    this.load.image('homeBg', '<%= asset_path('home_bg.jpg') %>');
    this.load.image('playBtn', '<%= asset_path('play_button.png') %>');
  },

  create: function() {
    <% if Rails.env.production? %>
      this.state.start('MainMenu');
    <% else %>
      this.state.start("Game");
      Game.User.level = 'I';
      Game.User.sublevel = 1;
    <% end %>
  }
}
